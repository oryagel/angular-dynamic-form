<form *ngIf="formModel" [formGroup]="formModel">
  <ng-container *ngFor="let item of (formModel.controlsStateChanged$ | async)">
    <ng-container *ngIf="isControl(item)">
      <ng-container *ngIf="!controlWrapper" [dynamicFormControlOutlet]="item"></ng-container>
      <ng-container *ngTemplateOutlet="controlWrapper; context: { control: item }"></ng-container>
    </ng-container>
    <ng-container *ngIf="isTemplate(item)" [dynamicTemplateOutlet]="item"></ng-container>
  </ng-container>
</form>
